<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mind Reader</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: "Segoe UI", sans-serif;
  background: radial-gradient(circle at top left, #2b0a4a, #140022);
  color: white;
  overflow-x: hidden;
}

/* ‚≠ê Twinkling Background Stars */
.star {
  position: fixed;
  width: 6px;
  height: 6px;
  background: white;
  border-radius: 50%;
  opacity: 0.8;
  box-shadow: 0 0 8px white;
  z-index: 0;
  animation: twinkle 2s infinite alternate;
}

@keyframes twinkle {
  0% { opacity: 0.3; transform: scale(1); }
  100% { opacity: 1; transform: scale(1.3); }
}

.star:nth-child(odd) { animation-delay: 0.5s; }
.star:nth-child(3n) { animation-delay: 1s; }
.star:nth-child(5n) { animation-delay: 1.5s; }

/* Container */
.screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 40px;
  text-align: center;
  position: relative;
  z-index: 2;
}

.hidden { display: none; }

h1 {
  font-size: 3rem;
  margin-bottom: 20px;
}

p {
  max-width: 850px;
  line-height: 1.7;
  margin-bottom: 15px;
}

button {
  padding: 12px 26px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  margin: 8px;
  background: #a855f7;
  color: white;
  transition: 0.2s ease;
}

button:hover {
  transform: scale(1.05);
}

/* White/Lilac Game End Buttons */
.game-end-buttons button, .no-questions-buttons button {
  background: #f8fafc;
  color: #1e293b;
  margin: 10px;
  padding: 15px 30px;
  font-size: 1.1rem;
  font-weight: 600;
  box-shadow: 0 8px 25px rgba(248, 250, 252, 0.4);
}

.game-end-buttons button:hover, .no-questions-buttons button:hover {
  background: #e2e8f0;
  transform: scale(1.05);
}

/* üé¥ Enhanced Card Deck Area */
.game-area {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.deck-stack {
  position: relative;
  width: 420px;
  height: 280px;
  margin-bottom: 30px;
  display: flex;
  justify-content: center;
  align-items: center;
}

.deck-card {
  position: absolute;
  width: 420px;
  height: 280px;
  border-radius: 24px;
  background: linear-gradient(160deg, #5b21b6, #3b0764);
  box-shadow: 0 15px 40px rgba(0,0,0,0.5);
  border: 1px solid rgba(255,255,255,0.1);
}

.deck-card:nth-child(1) { transform: rotate(-4deg) translateX(-10px); }
.deck-card:nth-child(2) { transform: rotate(3deg) translateX(8px); }
.deck-card:nth-child(3) { transform: rotate(-1deg); }

.active-card {
  position: absolute;
  width: 420px;
  height: 280px;
  border-radius: 24px;
  background: 
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,0.1) 0%, transparent 50%),
    linear-gradient(160deg, #6d28d9, #4c1d95);
  box-shadow: 
    0 20px 50px rgba(0,0,0,0.6), 
    inset 0 0 30px rgba(255,255,255,0.1),
    0 0 40px rgba(168, 85, 247, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 30px;
  text-align: center;
  font-size: 1.2rem;
  line-height: 1.4;
  opacity: 0;
  transform: translateY(-30px) scale(0.95);
  transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border: 2px solid rgba(255,255,255,0.2);
  position: relative;
  overflow: hidden;
}

.active-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transition: left 0.6s;
}

.active-card::after {
  content: '‚ú®';
  position: absolute;
  top: 20px;
  right: 20px;
  font-size: 1.5rem;
  opacity: 0.7;
  animation: sparkle 3s infinite;
}

@keyframes sparkle {
  0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.7; }
  50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
}

.active-card.show::before {
  left: 100%;
}

.active-card.show {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.active-card.empty {
  font-size: 1.5rem;
  color: #fbbf24;
  text-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
  background: 
    radial-gradient(circle at 30% 40%, rgba(251, 191, 36, 0.2) 0%, transparent 50%),
    radial-gradient(circle at 70% 60%, rgba(251, 191, 36, 0.1) 0%, transparent 50%),
    linear-gradient(160deg, #6d28d9, #4c1d95);
}

/* üéÆ Console */
.console {
  background: rgba(255,255,255,0.1);
  padding: 15px 25px;
  border-radius: 14px;
  margin-top: 20px;
  backdrop-filter: blur(8px);
}

.score {
  margin-top: 10px;
  font-size: 1.2rem;
  font-weight: 600;
}

.no-questions-buttons {
  margin-top: 20px;
  display: none;
}

.game-end-buttons {
  margin-top: 30px;
  display: none;
}

/* üéâ Winner & Request Cards */
#winner h2 {
  font-size: 3rem;
  margin-bottom: 20px;
}

/* ‚ú® Enhanced Request Cards */
.request-card {
  background: #7e22ce;
  padding: 14px 22px;
  border-radius: 14px;
  margin: 15px 10px;
  display: inline-block;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  border: 2px solid rgba(255,255,255,0.2);
  position: relative;
  overflow: hidden;
  font-size: 1rem;
  line-height: 1.3;
  box-shadow: 0 10px 30px rgba(126, 34, 206, 0.4);
}

.request-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transition: left 0.6s;
}

.request-card:hover {
  transform: translateY(-8px) scale(1.05);
  background: #9333ea;
  box-shadow: 0 20px 40px rgba(147, 51, 234, 0.6);
}

.request-card.selected {
  transform: scale(1.3) translateY(-20px);
  background: linear-gradient(160deg, #a855f7, #ec4899);
  box-shadow: 0 30px 60px rgba(168, 85, 247, 0.7), 0 0 50px rgba(236, 72, 153, 0.5);
  z-index: 10;
  animation: cardPulse 1s infinite;
}

@keyframes cardPulse {
  0%, 100% { transform: scale(1.3) translateY(-20px); }
  50% { transform: scale(1.35) translateY(-25px); }
}

.request-card-buttons {
  margin-top: 30px;
  display: none;
}

/* Neutral Final Screen */
#final-screen {
  background: linear-gradient(160deg, #1e293b, #334155);
  text-shadow: 0 0 10px rgba(255,255,255,0.3);
}

#final-screen h2 {
  font-size: 2.5rem;
  margin-bottom: 30px;
  background: linear-gradient(45deg, #a855f7, #06b6d4);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

canvas {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 5;
}
</style>
</head>
<body>

<!-- ‚≠ê 35 Twinkling Stars -->
<script>
for(let i=0;i<35;i++){
  const star=document.createElement("div");
  star.className="star";
  star.style.top=Math.random()*100+"%";
  star.style.left=Math.random()*100+"%";
  star.style.opacity=Math.random()*0.7+0.3;
  star.style.transform=`scale(${Math.random()*1.5+0.5})`;
  document.body.appendChild(star);
}
</script>

<canvas id="confetti"></canvas>

<!-- INTRO -->
<div class="screen" id="intro">
<h1>Mind Reader</h1>

<p><strong>Do you know your partner? Your best friend? Your person?</strong></p>

<p>We like to think we do. We remember their favourite food, their old stories, the version of them we first fell close to. But life updates fast, quietly and constantly and somewhere between work, stress, inside jokes, and "we'll talk later," we stop refreshing the picture.</p>

<p><strong>Mind Reader</strong> is a short, playful game built around one simple idea: you don't answer about yourself. You answer for someone you care about, based on who they are right now, not who they were last month.</p>

<p><strong>How to play:</strong> On your turn, draw a card and answer the question about your partner or friend. If they feel accurately read, they let you keep the card and score a point. The first person to collect five cards wins the round and earns a Request Card they can redeem later!</p>

<p>The questions move from everyday details to deeper memories to future hopes, turning small moments of attention into real connection in just 10‚Äì15 minutes.</p>

<button onclick="startGame()">Start Game!</button>
</div>

<!-- GAME -->
<div class="screen hidden" id="game">
<div class="game-area">

<div class="deck-stack">
  <div class="deck-card"></div>
  <div class="deck-card"></div>
  <div class="deck-card"></div>
  <div class="active-card" id="activeCard"></div>
</div>

<button onclick="drawCard()">Draw Card</button>

<div class="console">
  <div id="turnText"></div>
  <button onclick="givePoint()">They read my mind üíú</button>
  <button onclick="nextTurn()">Not quite right</button>
  <div class="score" id="scoreText"></div>
  
  <div class="no-questions-buttons" id="noQuestionsButtons">
    <button onclick="playAgainFromEmpty()">Play Again</button>
    <button onclick="endGameWithFinal()">End Game</button>
  </div>
</div>

</div>
</div>

<!-- WINNER -->
<div class="screen hidden" id="winner">
<h2 id="winnerText"></h2>

<div>
<div class="request-card" onclick="selectRequestCard(this)">üé¨ Veto Card ‚Äî Cancel one plan, no debate</div>
<div class="request-card" onclick="selectRequestCard(this)">üöó Passenger Card ‚Äî You drive the next 3 outings</div>
<div class="request-card" onclick="selectRequestCard(this)">üç≥ Sous Chef Card ‚Äî I pick the menu, you cook</div>
<div class="request-card" onclick="selectRequestCard(this)">üéß DJ Card ‚Äî I control the music next time we are together</div>
<div class="request-card" onclick="selectRequestCard(this)">üóìÔ∏è The Planner Card ‚Äî I choose the next hangout or date</div>
<div class="request-card" onclick="selectRequestCard(this)">üç¶ The Treat Card ‚Äî You buy me a small treat of my choice</div>
</div>

<div class="request-card-buttons game-end-buttons" id="requestCardButtons">
  <button onclick="playAgainFromWinner()">Play Again</button>
  <button onclick="endGameWithFinal()">End Game</button>
</div>

</div>

<!-- FINAL SCREEN -->
<div class="screen hidden" id="final-screen">
<h2>When someone feels seen, something soft shifts.<br>That's the real win.</h2>
<p>Thank you for playing Mind Reader. You created something beautiful today.</p>
<button onclick="resetGame()">Play Again</button>
</div>

<script>
const prompts=[
"What has been draining my energy the most this week?",
"What show or movie or book am I into these days?",
"Who is the one person annoying me the most this week?",
"What social interaction recently left me feeling awkward or off?",
"What am I most mentally preoccupied with when I'm quiet?",
"What decision am I currently avoiding?",
"What song have I been humming lately?",
"What food am I craving right now?",
"What is one small thing that made me feel appreciated recently?",
"What am I secretly excited about?",
"What do I enjoy so much that I forget to check the time?",
"What has been helping me recharge, even a little?",
"What part of my day feels chaotic?",
"What expectation am I struggling to meet?",
"When I'm upset, do I usually want space or closeness first?",
"What movie could I watch endlessly?",
"What is my biggest insecurity about my appearance?",
"What emotion do I struggle to express?",
"What boundary am I quietly protective of?",
"What kind of conflict scares me the most?",
"When overwhelmed, what actually helps?",
"How do I react when misunderstood?",
"What conflict shuts me down fastest?",
"What hurts me most during conflict?",
"What helps me calm down after a disagreement?",
"What do I secretly wish people noticed about me?",
"What does success mean to me right now?",
"What kind of person do I want to become?",
"What value won't I compromise on?",
"If I won the lottery, what would I buy first?",
"What part of myself do I want to grow?",
"What pattern do I want to break?",
"What would growth look like this year?",
"Where do I feel most at home?",
"What qualities do I admire in others?",
"Where would I travel tomorrow if I could?",
"What skill do I wish I could master?",
"What reminds me not to take life too seriously?",
"What makes me smile even on bad days?",
"What do I want you to understand about my reaction?",
"What are we doing right, even now?",
"What do I need right now: a solution, a hug, or a snack?",
];

let deck=[];
let currentPlayer=1;
let scores={1:0,2:0};

function shuffle(a){
 for(let i=a.length-1;i>0;i--){
   const j=Math.floor(Math.random()*(i+1));
   [a[i],a[j]]=[a[j],a[i]];
 }
 return a;
}

function startGame(){
 deck=shuffle([...prompts]);
 document.getElementById("intro").classList.add("hidden");
 document.getElementById("game").classList.remove("hidden");
 currentPlayer=1;
 scores={1:0,2:0};
 document.getElementById("activeCard").innerText="";
 document.getElementById("activeCard").classList.remove("show", "empty");
 document.getElementById("noQuestionsButtons").style.display = "none";
 document.getElementById("requestCardButtons").style.display = "none";
 updateTurn();
 updateScore();
}

function drawCard(){
 const card=document.getElementById("activeCard");
 const noQuestionsBtn=document.getElementById("noQuestionsButtons");
 
 if(!deck.length){
   card.innerText="Oops! You ran out of questions üòÖ";
   card.className="active-card empty";
   card.classList.add("show");
   noQuestionsBtn.style.display = "block";
   return;
 }
 
 noQuestionsBtn.style.display = "none";
 card.classList.remove("show", "empty");
 setTimeout(()=>{
   card.innerText=deck.pop();
   card.classList.add("show");
 },200);
}

function playAgainFromEmpty(){
 startGame();
}

function playAgainFromWinner(){
 startGame();
}

function endGameWithFinal(){
 document.getElementById("game").classList.add("hidden");
 document.getElementById("winner").classList.add("hidden");
 document.getElementById("final-screen").classList.remove("hidden");
 celebrate();
}

function selectRequestCard(cardElement){
 // Remove selected class from all cards
 document.querySelectorAll('.request-card').forEach(c => {
   c.classList.remove('selected');
 });
 
 // Add selected class to clicked card
 cardElement.classList.add('selected');
 
 // Show Play Again / End Game buttons after short delay
 setTimeout(() => {
   document.getElementById("requestCardButtons").style.display = "block";
 }, 800);
 
 celebrate();
}

function givePoint(){
 scores[currentPlayer]++;
 updateScore();
 if(scores[currentPlayer]>=5){
   endGame();
   return;
 }
 nextTurn();
}

function nextTurn(){
 currentPlayer=currentPlayer===1?2:1;
 updateTurn();
 document.getElementById("activeCard").innerText="";
 document.getElementById("activeCard").classList.remove("show", "empty");
 document.getElementById("noQuestionsButtons").style.display = "none";
}

function updateTurn(){
 document.getElementById("turnText").innerText=
 `Player ${currentPlayer}'s turn`;
}

function updateScore(){
 document.getElementById("scoreText").innerHTML=
 `<strong>Player 1: ${scores[1]} | Player 2: ${scores[2]}</strong>`;
}

function endGame(){
 document.getElementById("game").classList.add("hidden");
 document.getElementById("winner").classList.remove("hidden");
 document.getElementById("winnerText").innerText=
 `üéâ Player ${currentPlayer} Wins!`;
 document.getElementById("requestCardButtons").style.display = "none";
 celebrate();
}

function resetGame(){
 scores={1:0,2:0};
 currentPlayer=1;
 deck=shuffle([...prompts]);
 document.querySelectorAll('.request-card').forEach(c => c.classList.remove('selected'));
 document.getElementById("winner").classList.add("hidden");
 document.getElementById("final-screen").classList.add("hidden");
 document.getElementById("requestCardButtons").style.display = "none";
 document.getElementById("intro").classList.remove("hidden");
}

/* Confetti */
const canvas=document.getElementById("confetti");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

function celebrate(){
 let pieces=Array.from({length:200},()=>({
   x:Math.random()*canvas.width,
   y:Math.random()*-canvas.height,
   r:Math.random()*6+4,
   c:["#f472b6","#a855f7","#facc15","#34d399","#06b6d4"][Math.floor(Math.random()*5)],
   v:Math.random()*3+2
 }));
 function draw(){
   ctx.clearRect(0,0,canvas.width,canvas.height);
   pieces.forEach(p=>{
     ctx.beginPath();
     ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
     ctx.fillStyle=p.c;
     ctx.fill();
     p.y+=p.v;
   });
   pieces=pieces.filter(p=>p.y<canvas.height);
   if(pieces.length) requestAnimationFrame(draw);
 }
 draw();
}
</script>

</body>
</html>

